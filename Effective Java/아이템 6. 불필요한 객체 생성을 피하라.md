## 객체의 재사용
- 똑같은 기능의 객체를 매번 생성하기보다 재사용하는 편이 나을 때가 많음
	- 특히 [[아이템 17. 변경 가능성을 최소화하라|불변 객체]]는 언제든 재사용 할 수 있음

### 불필요한 객체 생성의 예
```java
String s = new String("Hello");
```
- 생성자에 넘겨진 `"Hello"` 자체가 생성자로 만들어내려는 String 과 기능적으로 완전 동일
- 개선한다면?
	- `String s = "Hello";`

### 정적 팩토리 메서드
- 생성자 대신 [[아이템 1. 생성자 대신 정적 팩터리 메서드를 고려하라|정적 팩토리 메서드]]를 제공하는 불변 클래스에서는 정적 팩토리 메서드를 사용해 불필요한 객체 생성을 피할 수 있음
	```java
	// 잘못된 생성의 예 (Java 9에서 Deprecated 됨)
	Boolean value = new Boolean(true);
	// 정적 팩토리 메서드 기반 생성
	Boolean value = Boolean.valueOf(true);
	```
	- 팩토리 메서드는 호출할 때마다 객체 생성을 조율할 수 있음

### 캐싱
- 생성 비용이 '비싼' 객체는 반복적인 생성보다 캐싱을 활용하는 것이 주요함
- 예시 코드
	```java
	// 개선 전 코드
	static boolean isPhoneNumber(String s) {
		return s.matches("^\\+82\\s\\d{2}-\\d{4}-\\d{4}$");
	}

	// 개선 후 코드
	public class PhoneNumber {

		private static final Pattern PATTERN = Pattern.compile("^\\+82\\s\\d{2}-\\d{4}-\\d{4}$");

		static boolean isPhoneNumber(String s) {
			return PATTERN.matcher(s).matches();
		}
	}
	```
	- `.matcher()`는 성능이 중요한 상황에서 반복해서 쓰기에 적합하지 않음
		- 내부에서 `Pattern` 인스턴스를 한번 생성하고 버리는 과정의 반복
	- 성능 개선을 위해 불변인 `Pattern` 인스턴스를 클래스 초기화 과정에서 캐싱하고 재사용하는 로직 적용
	- `Pattern`에 대해 [[아이템 83. 지연 초기화는 신중히 사용하라|지연 초기화]]를 적용해 불필요한 초기화를 없앨수는 있지만 [[아이템 67. 최적화는 신중히 하라|성능상의 차이가 크지 않아]] 권장하지는 않음

### 어댑터
- 어댑터는 실제 작업은 뒷단 객체에 위임하고, 자신은 제 2의 인터페이스 역할을 해주는 객체
	- 뒷단 객체 외에는 관리할 상태가 없어 뒷단 객체 하나당 어댑터 하나씩만 만들어서 관리함

### 오토 박싱
- 오토 박싱은 기본 타입과 그에 대응하는 박싱된 기본 타입의 구분을 흐려주지만, 완전히 없애지는 않음
	- [[아이템 61. 박싱된 기본 타입보다는 기본 타입을 사용하라|성능상에서 차이]] 존재

## 주의할 점
- [[아이템 50. 적시에 방어적 복사본을 만들어라|방어적 복사]]를 다루는 챕터와 대조적인 주장임
	- 기존 객체를 재사용해야 한다면 새로운 객체를 만들지 마라 vs 새로운 객체를 만들어야 한다면 기존 객체를 재사용하지 마라
- 방어적 복사가 필요한 상황에서 객체를 재사용했을 때의 피해 > 필요없는 객체를 반복 생성했을 때의 피해